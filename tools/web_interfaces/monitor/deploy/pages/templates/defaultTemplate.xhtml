<rich:page xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jstl/core"
	markupType="html5" contentType="text/html" sidebarPosition="left"
	theme="simple" sidebarWidth="275">
	<f:loadBundle var="msg" basename="messages" />
	<a4j:loadScript src="resource://org/richfaces/renderkit/html/scripts/jquery.hotkeys.js"/>
	<a4j:loadScript src="resource://scripts/utils.min.js"/>
	<ui:debug hotkey="X"/>
	<f:facet name="pageHeader">
		<title>#{loginBean.title}</title>
		<link href="#{facesContext.externalContext.request.contextPath}/images/favicon.ico" rel="shortcut icon" type="image/x-icon" nonce="#{_csp_random_nonce}" />
		<meta http-equiv="Content-Type" content="text/xml; charset=utf-8"/>
		<!--[if !(IE)]><!-->
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/roboto/roboto-fontface.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<!--<![endif]-->
		<!--[if gt IE 8]>
     	<link
			href="#{facesContext.externalContext.request.contextPath}/css/roboto/roboto-fontface.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
    	<![endif]-->
		<!--[if lte IE 8]>
     	<link
			href="#{facesContext.externalContext.request.contextPath}/css/roboto/roboto-fontface-iefix.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
    	<![endif]-->
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/materialIcons/material-icons-fontface.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/linkit-base.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/linkit-jsf.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/linkit-crumbs.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/linkit-form.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/mimetype.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/linkit-icons.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/materialIcons.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/c3.min.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/ChartMap.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<link
			href="#{facesContext.externalContext.request.contextPath}/css/bootstrap-tagsinput.css"
			rel="stylesheet" type="text/css" nonce="#{_csp_random_nonce}" />
		<script type="text/javascript" nonce="#{_csp_random_nonce}" id="expiredMsgScript">	
	       A4J.AJAX.onExpired = function(loc, expiredMsg){
				return loc;
	    	}
	   </script>
	   <script type="text/javascript" nonce="#{_csp_random_nonce}" src="#{facesContext.externalContext.request.contextPath}/webjars/jquery-ui/1.13.2/jquery-ui.min.js" />
   	  </f:facet>
      <f:facet name="header">
      	<ui:include src="/commons/includes/header.xhtml" />
      </f:facet>
      
	
	<f:facet name="sidebar">
		<ui:include src="/commons/includes/menu.xhtml" />
	</f:facet>
	
	<!-- Body -->
	<ui:include src="/commons/includes/status.xhtml" />
	<rich:panel id="bodyWrapper" styleClass="noborder">
		<rich:jQuery name="activeRow" timing="onJScall" query="hover(function(){jQuery(this).addClass('active')},function(){jQuery(this).removeClass('active')})" />
		
		<script type="text/javascript" nonce="#{_csp_random_nonce}">
			function aggiornaTitoloPagina(){
				var nuovoTitolo = jQuery("[id='licenseOutputText']").text();
				
				jQuery(document).attr('title', nuovoTitolo);
			}
		</script>
		<h:panelGrid width="100%">
				<rich:layout id="mainct">
					<rich:layoutPanel id="navbar" position="top">
						<a4j:form prependId="false">
							<input type="hidden" id="_csrfNavbar" name="_csrf" value="#{loginBean.csrf}"/>
							<div id="breadcrumb-ct">
								<div id="crumbs"><ui:insert name="navbar"></ui:insert></div>
							</div>
						</a4j:form>
					</rich:layoutPanel>

					<rich:layoutPanel position="left" width="0">
					</rich:layoutPanel>

					<rich:layoutPanel id="body" position="center" >
						<a4j:outputPanel id="errorsPlaceHolder" ajaxRendered="true" layout="block">
							<h:panelGroup layout="block" styleClass="#{facesContext.maximumSeverity.ordinal>=2 ? 'messages-errors' : 'messages-info'}" rendered="#{not empty facesContext.maximumSeverity}">
								<a4j:outputPanel layout="block" styleClass="messages-title">
				  					<h:outputText value="&#160;&#160;" id="infoTitleIcon" styleClass="#{facesContext.maximumSeverity.ordinal>=2 ? 'messages-errors-title-icon' : 'messages-info-title-icon'}"/>
				  					<h:outputText id="infoTitleMessage" value="#{facesContext.maximumSeverity.ordinal>=2 ? 'Messaggio di Errore' : 'Messaggio informativo'}" 
				  						styleClass="messages-title-text"/>
				  				</a4j:outputPanel>
				  				<a4j:outputPanel id="errorMessagesSpacer" layout="block" styleClass="errorsSpacer" />
								<rich:messages id="errorMessages">
								</rich:messages>
							</h:panelGroup>
						</a4j:outputPanel>
						<a4j:outputPanel id="infoPlaceHolder" ajaxRendered="#{not empty sessionScope.acclim}" layout="block">
							<h:panelGroup layout="block" styleClass="messages-errors" rendered="#{not empty sessionScope.acclim}">
								<a4j:outputPanel layout="block" styleClass="messages-title">
				  					<h:outputText value="&#160;&#160;" id="infoTitleIcon2" styleClass="messages-errors-title-icon"/>
				  					<h:outputText id="infoTitleMessage2" value="Messaggio di Errore" styleClass="messages-title-text"/>
				  				</a4j:outputPanel>
				  				<div class="messages-errors-text">
				  					<h:outputText value="#{sessionScope.acclim}" id="messaggioAcclim"/>
				  				</div>
							</h:panelGroup>
						</a4j:outputPanel>
						<a4j:outputPanel id="infoPlaceHolderHF" ajaxRendered="#{not empty loginBean.msgException}" layout="block">
							<h:panelGroup layout="block" styleClass="messages-errors" rendered="#{not empty loginBean.msgException}">
								<a4j:outputPanel layout="block" styleClass="messages-title">
				  					<h:outputText value="&#160;&#160;" id="infoTitleIcon3" styleClass="messages-errors-title-icon"/>
				  					<h:outputText id="infoTitleMessage3" value="Messaggio di Errore" styleClass="messages-title-text"/>
				  				</a4j:outputPanel>
				  				<div class="messages-errors-text">
				  					<h:outputText value="#{loginBean.msgException}" id="messaggioAcclimHF"/>
				  				</div>
							</h:panelGroup>
						</a4j:outputPanel>
						<div>
							<ui:insert name="body"/>
						</div>
					</rich:layoutPanel>

					<rich:layoutPanel position="bottom" width="100%">
					</rich:layoutPanel>
				</rich:layout>
		</h:panelGrid>
	</rich:panel>

	<f:facet name="footer" align="center">
		<h:outputLink value="https://www.link.it" target="_blank">
			<h:graphicImage value="/images/tema_link/logo_link_footer.png" title="Link.it" alt="Link.it" />
		</h:outputLink>
	</f:facet>

</rich:page>
