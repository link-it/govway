<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:link="http://www.link.it"
    xmlns:c="http://java.sun.com/jstl/core">
    <f:loadBundle var="msg" basename="messages" /> 
    
    <a4j:outputPanel layout="block" id="informazioniGenerali">
    
 		<h:panelGrid id="panelDettaglioPrincipale" columns="2" styleClass="borderSpacingTable" columnClasses="labelAllineataDxFixedWidth130,valueAllineataSx" >
 		
 			<h:outputLabel styleClass="outputFieldLabel" value="&#160;&#160;" rendered="#{true}" />
 			<h:panelGroup layout="block"  class="subtitle-nopaddingleft-nomarginleft">
				<h:outputText value="Informazioni Generali" styleClass="subtitle-nopaddingleft-nomarginleft"/>
			</h:panelGroup>

 			<h:outputLabel value="Data" id="data-iconLabel" styleClass="outputFieldLabel icon-date" />
			<h:outputText id="outData" value="#{dettagliBean.dettaglio.dataAccettazioneRichiesta}">
				<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss.SSS z" timeZone="#{applicationBean.timeZone}"/>
			</h:outputText>	
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelIdTransazione" value="ID Transazione" rendered="#{not empty dettagliBean.dettaglio.idTransazione}" />
			<h:outputText id="outIdTransazione" value="#{dettagliBean.dettaglio.idTransazione}" rendered="#{not empty dettagliBean.dettaglio.idTransazione}" />
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelIdCluster" value="ID Cluster" rendered="#{not empty dettagliBean.dettaglio.clusterId and dettagliBean.visualizzaIdCluster and not dettagliBean.clusterDinamico}" />
			<h:outputText id="outIdCluster" value="#{dettagliBean.dettaglio.clusterId}" rendered="#{not empty dettagliBean.dettaglio.clusterId and dettagliBean.visualizzaIdCluster and not dettagliBean.clusterDinamico}" />
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelTipologia" value="Tipologia" rendered="#{not empty dettagliBean.tipologiaConProtocollo}" />
			<h:outputText id="outTipologia" value="#{dettagliBean.tipologiaConProtocollo}" rendered="#{not empty dettagliBean.tipologiaConProtocollo}" />
			
			<h:panelGroup layout="block" styleClass="outputFieldLabel" rendered="#{not empty dettagliBean.dettaglio.esitoIcona}">
				<i class="material-icons md-18 v-align-middle">#{dettagliBean.dettaglio.esitoIcona}</i>
 				<h:outputLabel value="Esito" styleClass="outputFieldLabel v-align-middle"  />
			</h:panelGroup>		
			<h:outputLabel value="Esito" styleClass="outputFieldLabel" rendered="#{empty dettagliBean.dettaglio.esitoIcona}" />
			<h:outputText id="outEsitoConCodice" value="#{dettagliBean.dettaglio.esitoLabel} (#{dettagliBean.dettaglio.codiceRispostaUscita})" rendered="#{not empty dettagliBean.dettaglio.codiceRispostaUscita}">
				<rich:toolTip for="outEsitoConCodice">
					<h:outputText value="#{dettagliBean.dettaglio.esitoLabelDescription}" escape="false" />
				</rich:toolTip>
			</h:outputText>
			<h:outputText id="outEsito" value="#{dettagliBean.dettaglio.esitoLabel}" rendered="#{empty dettagliBean.dettaglio.codiceRispostaUscita}">
				<rich:toolTip for="outEsito">
					<h:outputText value="#{dettagliBean.dettaglio.esitoLabelDescription}" escape="false" />
				</rich:toolTip>
			</h:outputText>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelDettaglioErrore" value="#{dettagliBean.dettaglio.labelDettaglioErrore}" rendered="#{not empty dettagliBean.dettaglio.dettaglioErrore}"/>
			<h:outputText id="outDettaglioErrore" value="#{dettagliBean.dettaglio.dettaglioErrore}" rendered="#{not empty dettagliBean.dettaglio.dettaglioErrore and not dettagliBean.dettaglio.visualizzaTextAreaDettaglioErrore}" />
			<h:inputTextarea id="outDettaglioErroreTextArea" value="#{dettagliBean.dettaglio.dettaglioErrore}" readonly="true"  cols="60" rows="5" styleClass="inputLinkLong" style="width:auto;"
				rendered="#{not empty dettagliBean.dettaglio.dettaglioErrore and dettagliBean.dettaglio.visualizzaTextAreaDettaglioErrore}" />
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelEsitoContesto" value="Contesto" rendered="#{dettagliBean.dettaglio.showContesto and not empty dettagliBean.dettaglio.esitoContesto}"/>
			<h:outputText id="outEsitoContesto" value="#{dettagliBean.dettaglio.esitoContestoLabel}" 
				rendered="#{dettagliBean.dettaglio.showContesto and not empty dettagliBean.dettaglio.esitoContesto}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelOp" value="Operazione" rendered="#{not empty dettagliBean.dettaglio.operazioneIm}"/>
			<h:outputText id="outOp" value="#{dettagliBean.dettaglio.operazioneIm}" rendered="#{not empty dettagliBean.dettaglio.operazioneIm}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelFruitore" value="Fruitore" rendered="#{not empty dettagliBean.dettaglio.soggettoFruitore}"/>
			<h:outputText id="outFruitore" value="#{dettagliBean.dettaglio.soggettoFruitore}" rendered="#{not empty dettagliBean.dettaglio.soggettoFruitore}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelRichiedente" value="Richiedente" />
			<h:outputText id="outRichiedente" value="#{dettagliBean.dettaglio.richiedente}" rendered="#{not empty dettagliBean.dettaglio.richiedente and not dettagliBean.dettaglio.visualizzaTextAreaRichiedente}"/>
			<h:inputTextarea id="outRichiedenteTextArea" value="#{dettagliBean.dettaglio.richiedente}" readonly="true"  cols="60" rows="5" styleClass="inputLinkLong" style="width:auto;"
				rendered="#{not empty dettagliBean.dettaglio.richiedente and dettagliBean.dettaglio.visualizzaTextAreaRichiedente}" />
			<h:graphicImage id="outRichiedenteAnonimo" value="/images/tema_link/anonymous.png" rendered="#{empty dettagliBean.dettaglio.richiedente}">
				<rich:toolTip for="outRichiedenteAnonimo">
					<h:outputText value="Richiesta Anonima" />
				</rich:toolTip>
			</h:graphicImage>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelIPRichiedente" value="IP Richiedente" />
			<h:outputText id="outIPRichiedente" value="#{dettagliBean.dettaglio.ipRichiedente}" rendered="#{not empty dettagliBean.dettaglio.ipRichiedente}"/>
												
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelProfColl" value="Profilo Collaborazione" rendered="#{dettagliBean.dettaglio.showProfiloCollaborazione and (not empty dettagliBean.dettaglio.profiloCollaborazioneProt or not empty dettagliBean.dettaglio.profiloCollaborazioneOp2)}"/>
			<h:outputText id="outProfCollProt" value="#{dettagliBean.dettaglio.profiloCollaborazioneProt}" rendered="#{dettagliBean.dettaglio.showProfiloCollaborazione and (not empty dettagliBean.dettaglio.profiloCollaborazioneProt)}"/>
			<h:outputText id="outProfCollOp2" value="#{dettagliBean.dettaglio.profiloCollaborazioneOp2}" rendered="#{dettagliBean.dettaglio.showProfiloCollaborazione and (empty dettagliBean.dettaglio.profiloCollaborazioneProt and not empty dettagliBean.dettaglio.profiloCollaborazioneOp2)}"/>
			
			<h:outputLabel styleClass="outputFieldCollaborazione" id="outLabelCollaborazione" value="ID Conversazione" rendered="#{not empty dettagliBean.dettaglio.idCollaborazione}"/>
			<h:outputText id="outCollaborazione" value="#{dettagliBean.dettaglio.idCollaborazione}" rendered="#{not empty dettagliBean.dettaglio.idCollaborazione}"/>
			
			<h:outputLabel styleClass="outputFieldRiferimentoIdRichiesta" id="outLabelRiferimentoIdRichiesta" value="Riferimento ID Richiesta" rendered="#{not empty dettagliBean.dettaglio.idAsincrono}"/>
			<h:outputText id="outRiferimentoIdRichiesta" value="#{dettagliBean.dettaglio.idAsincrono}" rendered="#{not empty dettagliBean.dettaglio.idAsincrono}"/>
										
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelCorrApp" value="ID Applicativo Richiesta" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativa}"/>
			<h:outputText id="outCorrApp" value="#{dettagliBean.dettaglio.idCorrelazioneApplicativa}" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativa}"/>
									
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelCorrAppRisp" value="ID Applicativo Risposta" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}"/>
			<h:outputText id="outCorrAppRisp" value="#{dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}" rendered="#{not empty dettagliBean.dettaglio.idCorrelazioneApplicativaRisposta}"/>
									
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelLatenzaTotale" value="Latenza Totale" rendered="#{not empty dettagliBean.dettaglio.latenzaTotale}" />
			<h:outputText id="outLatenzaTotale" value="#{dettagliBean.dettaglio.latenzaTotale}" rendered="#{not empty dettagliBean.dettaglio.latenzaTotale}" converter="latenzaConverter" />
									
		</h:panelGrid>
					
		<h:panelGrid id="panelDettaglioAPI" columns="2" styleClass="borderSpacingTable" columnClasses="labelAllineataDxFixedWidth130,valueAllineataSx" 
			rendered="#{
				(not empty dettagliBean.dettaglio.nomeSoggettoErogatore)
				or
				(dettagliBean.dettaglio.showParteComune and not empty dettagliBean.dettaglio.api)
				or
				(not empty dettagliBean.dettaglio.nomeServizio)		
			}">
		
			<h:outputLabel styleClass="outputFieldLabel" value="&#160;&#160;" rendered="#{true}" />
			<h:outputText value="&#160;&#160;" rendered="#{true}" />
			
			<h:outputLabel styleClass="outputFieldLabel" value="&#160;&#160;" rendered="#{true}" />
 			<h:panelGroup layout="block"  class="subtitle-nopaddingleft-nomarginleft">
				<h:outputText value="Invocazione API" styleClass="subtitle-nopaddingleft-nomarginleft"/>
			</h:panelGroup>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelGruppi" value="Tags" rendered="#{not empty dettagliBean.dettaglio.gruppiHTML}" />
			<a4j:outputPanel layout="block" id="outGruppi" styleClass="titoloTags" rendered="#{not empty dettagliBean.dettaglio.listaGruppi}">
				<a4j:repeat value="#{dettagliBean.dettaglio.listaGruppi}" var="gruppo">
					<h:outputText id="outCustomContentTag" value="#{gruppo.label}"  styleClass="tag label label-info #{gruppo.value}"/>
				</a4j:repeat>
			</a4j:outputPanel>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelErogatore" value="Erogatore" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoErogatore}"/>
			<h:outputText id="outErogatore" value="#{dettagliBean.dettaglio.soggettoErogatore}" rendered="#{not empty dettagliBean.dettaglio.nomeSoggettoErogatore}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelApi" value="#{msg['commons.api.label']} #{dettagliBean.dettaglio.tipoApiLabel}" rendered="#{dettagliBean.dettaglio.showParteComune and not empty dettagliBean.dettaglio.api}"/>
			<h:outputText id="outApi" value="#{dettagliBean.dettaglio.api}" rendered="#{dettagliBean.dettaglio.showParteComune and not empty dettagliBean.dettaglio.api}"/>
										
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelApiImplementation1" value="#{msg['commons.servizio.label']}" rendered="#{dettagliBean.dettaglio.showParteComune and not empty dettagliBean.dettaglio.nomeServizio}"/>
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelApiImplementation2" value="#{msg['commons.api.label']} #{dettagliBean.dettaglio.tipoApiLabel}" rendered="#{not dettagliBean.dettaglio.showParteComune and not empty dettagliBean.dettaglio.nomeServizio}"/>
			<h:outputText id="outApiImplementation" value="#{dettagliBean.dettaglio.servizio}" rendered="#{not empty dettagliBean.dettaglio.nomeServizio}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelAzione" value="#{dettagliBean.dettaglio.tipoOperazioneLabel}" rendered="#{not empty dettagliBean.dettaglio.operazioneLabel}"/>
			<h:outputText id="outAzione" value="#{dettagliBean.dettaglio.operazioneLabel}" rendered="#{not empty dettagliBean.dettaglio.operazioneLabel}"/>
					
			<h:outputText styleClass="outputFieldLabel" id="outLabelConnettore" value="#{dettagliBean.dettaglio.pddRuolo=='DELEGATA' ? 'Connettore' : dettagliBean.dettaglio.pddRuolo=='APPLICATIVA' ? 'Connettore' : dettagliBean.dettaglio.pddRuolo=='ROUTER' ? 'Connettore' : 'Connettore'}"
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.pddRuolo and not empty dettagliBean.dettaglio.locationConnettore}"/>
			<h:outputText id="outConnettore" value="#{dettagliBean.dettaglio.locationConnettore}" 
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.pddRuolo and not empty dettagliBean.dettaglio.locationConnettore}"/>

			<h:outputLabel styleClass="outputFieldLabel" id="outLabelCodiceRispostaIngresso" value="Codice Risposta" 
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.locationConnettore and not empty dettagliBean.dettaglio.codiceRispostaIngresso and dettagliBean.dettaglio.codiceRispostaIngresso != '0'}"/>
			<h:outputText id="outCodiceRispostaIngresso" value="#{dettagliBean.dettaglio.codiceRispostaIngresso}" 
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.locationConnettore and not empty dettagliBean.dettaglio.codiceRispostaIngresso and dettagliBean.dettaglio.codiceRispostaIngresso != '0'}"/>
			
			<h:outputLabel styleClass="outputFieldLabel" id="outLabelLatenzaServizio" value="Tempo Risposta" 
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.latenzaServizio and dettagliBean.dettaglio.latenzaServizio>=0}" />
			<h:outputText id="outLatenzaServizio" value="#{dettagliBean.dettaglio.latenzaServizio}" 
				rendered="#{not dettagliBean.dettaglio.consegnaMultipla and not empty dettagliBean.dettaglio.latenzaServizio and dettagliBean.dettaglio.latenzaServizio>=0}" converter="latenzaConverter" />
					
		</h:panelGrid>
    
    </a4j:outputPanel>
 
</ui:composition>
