<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:link="http://www.link.it"
    xmlns:c="http://java.sun.com/jstl/core">
    <f:loadBundle var="msg" basename="messages" /> 
    
    <a4j:outputPanel layout="block" id="informazioniMessaggiDiagnostici">
			<h:form id="formDiag">
				<input type="hidden" id="_csrfFormDiag" name="_csrf" value="#{loginBean.csrf}"/>
				<link:dataTable 
					value="#{diagnosticiDM}" 
					id="diagnosticiTable"
					headerText="Lista Diagnostici"
					showSelectAll="false"
					enableDelete="false">
					
					<rich:column id="colData">
							<f:facet name="header">
								<h:outputText id="outData1" value="Data" />
							</f:facet>
							<h:outputText id="outData2" value="#{item.gdo.time}" >
								<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss.SSS" timeZone="#{applicationBean.timeZone}"/>
							</h:outputText>	
						</rich:column>
						<rich:column id="colSeverita">
							<f:facet name="header">
								<h:outputText id="outSeverita1" value="Severita" />
							</f:facet>
							<h:outputText id="outSeverita2" value="#{item.severitaAsString}" styleClass="#{item.severitaAsString}"/>
						</rich:column>
						<!-- 
						<rich:column id="colCodice">
							<f:facet name="header">
								<h:outputText id="outCodice1" value="Codice" />
							</f:facet>
							<h:outputText id="outCodice2" value="#{item.codice}" />
						</rich:column>
						-->
						<rich:column id="colFunzione">
							<f:facet name="header">
								<h:outputText id="outFunzione1" value="Funzione" />
							</f:facet>
							<h:outputText id="outFunzione2" value="#{item.idFunzioneAsString}" />
						</rich:column>
						<rich:column id="colMsg" width="60%">
							<f:facet name="header">
								<h:outputText id="outMsg1" value="Messaggio" />
							</f:facet>
							<h:outputText id="outMsg2" escape="false" value="#{item.messaggioAsString}"/>
						</rich:column>
						
						<ui:define name="buttons">
								<h:commandLink id="exportDiagnostici-iconLink" 
												target="_blank" 
												styleClass="icon-compress" 
												action="#{dettagliBean.saveDiagnostici}" 
												rendered="${diagnosticiDM.showButtonEsporta}"
												>
									<h:outputText value="Esporta" />
								</h:commandLink>
						</ui:define>
												
				</link:dataTable>
			</h:form>
    </a4j:outputPanel>
    
 
</ui:composition>
