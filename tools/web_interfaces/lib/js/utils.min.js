function downloadValoreDecodificato(e){var o=$("#__i_hidden_lockurl_").val();o=addTabIdParam(o,!0),resetValoriLock(),window.location.href=o,$(this).dialog("close")}function visualizzaValoreDecodificato(e){var o=$("#__i_hidden_lockurl_").val(),i=$("#__i_hidden_lockvalue_").val(),a=$("#__i_hidden_locklabel_").val();o=addTabIdParam(o,!0),visualizzaAjaxStatus(),$.ajax({url:o,method:"POST",async:!1,data:{secret:i},contentType:"application/x-www-form-urlencoded",success:function(e,o,i){var t=e.esito,n=e.dettaglioEsito;"errors"==t?(mostraErroreInformazioniCifrateModal(n),nascondiAjaxStatus(),$("#visualizzaInformazioniCifrateModal").dialog("close")):($("textarea[id^='txtA_ne_dec']").val(n),$("#txtA_ne_dec").show(),$("#iconCopy_dec").show(),$("#visualizzaInformazioniCifrateModalPropNota").hide(),$("#visualizzaInformazioniCifrateModal").parent().children(".ui-dialog-buttonpane").hide(),$("#visualizzaInformazioniCifrateModal").prev().children("span").text(a),$("#visualizzaInformazioniCifrateModal").dialog("close"),$("#visualizzaInformazioniCifrateModal").dialog("open"),nascondiAjaxStatus())},error:function(e,o,i){var a=e.responseURL;document.location=a}}),resetValoriLock()}function copiaValoreDecodificato(e){var o=$("#__i_hidden_lockurl_").val(),i=$("#__i_hidden_lockvalue_").val();o=addTabIdParam(o,!0),visualizzaAjaxStatus(),$.ajax({url:o,method:"POST",async:!1,data:{secret:i},contentType:"application/x-www-form-urlencoded",success:function(o,i,a){var t=o.esito,n=o.dettaglioEsito;if("errors"==t)mostraErroreInformazioniCifrateModal(n),nascondiAjaxStatus(),$("#alertInformazioniCifrateModal").dialog("close");else{var l=copyTextToClipboard(n);nascondiAjaxStatus(),l&&showTooltipAndFadeOut(e)}},error:function(e,o,i){var a=e.responseURL;document.location=a}}),resetValoriLock(),$(this).dialog("close")}function showSlider(e){if(e.length>0){setPercentuale(e.closest("div").children("label"),e[0].selectedIndex+1);var o=$("<div id='slider' class='prop-slider'></div>").insertAfter(e).slider({min:1,max:100,range:"min",value:e[0].selectedIndex+1,slide:function(o,i){var a=e.closest("div").children("label");e[0].selectedIndex=i.value-1,setPercentuale(a,e[0].selectedIndex+1)},change:function(o,i){return postBack(e[0].name)}});e.change(function(){o.slider("value",this.selectedIndex+1)}),e.hide()}}function setPercentuale(e,o){var i=e.text(),a=i.indexOf("("),t=i.indexOf(")");if(a>-1&&t>-1){var n=i.substring(0,a+1)+o+i.substring(t-1);e.text(n)}}function changeTooltipPosition(e){var o=e.pageX-8,i=e.pageY+8;$("div.copyTooltip").css({top:i,left:o})}function showTooltip(e){$("div.copyTooltip").remove(),$('<div class="copyTooltip">Copiato</div>').appendTo("body"),changeTooltipPosition(e)}function showTooltipAndFadeOut(e){showTooltip(e),setTimeout(function(){$("div.copyTooltip").fadeOut("slow")},1e3)}function copyTextToClipboard(e){var o=document.createElement("textarea");o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.width="2em",o.style.height="2em",o.style.padding=0,o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.value=e,document.body.appendChild(o),o.focus(),o.select();var i=!1;try{(i=document.execCommand("copy"))?console.log("Valore Copiato "+e):console.log("Copia non effettuata")}catch(e){i=!1}return document.body.removeChild(o),i}function setValoriLock(e,o,i){$("#__i_hidden_lockurl_").val(e),$("#__i_hidden_lockvalue_").val(o),i?$("#__i_hidden_locklabel_").val(i):$("#__i_hidden_locklabel_").val("")}function resetValoriLock(){setValoriLock("","","")}function getFilenameFromContentDisposition(e){var o=e.getResponseHeader("Content-Disposition"),i="";if(o&&-1!==o.indexOf("attachment")){var a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(o);null!=a&&a[1]&&(i=a[1].replaceAll(/['"]/g,""))}return i}function copyToClipboard(e,o,i){var a=$("#"+e).attr("data-copy"),t=$("<textarea>");$("body").append(t),t.val(a).select(),document.execCommand("copy"),t.remove(),showCopyMessage(o,i)}function showCopyMessage(e,o){var i=$("#"+e),a=$(o.currentTarget).position(),t=$(o.currentTarget).width();i.css({top:a.top-30,left:a.left+t+10,visibility:"visible"}),setTimeout(function(){i.css({visibility:"hidden",opacity:0})},2e3)}function handleMouseEnterTriggerElement(e,o,i){setTimeout(function(){$("#"+e).css("visibility","visible")},o),clearTimeout(i)}function handleMouseLeaveHandler(e,o){return setTimeout(function(){$("#"+e+":hover").length||$("#"+e).css("visibility","hidden")},o)}function setupCopyButtonEvents(e,o,i){setupCopyButtonEvents(e,o,i,500,1e3)}function setupCopyButtonEvents(e,o,i,a,t){var n;$("#"+e).on("mouseenter",function(){handleMouseEnterTriggerElement(o,a,n)}),$("#"+e).on("mouseleave",function(){n=handleMouseLeaveHandler(o,t)}),$("#"+o).on("mouseenter",function(){$("#"+o).css("visibility","visible"),clearTimeout(n)}),$("#"+o).on("mouseleave",function(){n=handleMouseLeaveHandler(o,t)}),$("#"+o).on("click",function(o){copyToClipboard(e,i,o)})}$(document).ready(function(){String.prototype.format=function(){for(var e=this,o=0;o<arguments.length;o++){var i=new RegExp("\\{"+o+"\\}","gm");e=e.replace(i,arguments[o])}return e},$("#confermaEliminazioneModal").length>0&&$("#confermaEliminazioneModal").dialog({resizable:!1,dialogClass:"no-close",autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Annulla:function(){$(this).dialog("close")},"Conferma Rimozione":function(){visualizzaAjaxStatus(),RemoveEntries(),$(this).dialog("close")}}}),$("#selezioneRichiestaModal").length>0&&$("#selezioneRichiestaModal").dialog({resizable:!1,dialogClass:"no-close",autoOpen:!1,height:"auto",width:400,modal:!0,buttons:{Chiudi:function(){$(this).dialog("close")}}}),$("#dataElementInfoModal").length>0&&$("#dataElementInfoModal").dialog({resizable:!1,autoOpen:!1,height:350,width:500,modal:!0}),$("[name=selectcheckbox]").length>0&&1==$("#rem_btn").length&&$("#rem_btn").click(function(){$("input[name=selectcheckbox]:checked").length>0?$("#confermaEliminazioneModal").dialog("open"):$("#selezioneRichiestaModal").dialog("open")}),$("#visualizzaInformazioniCifrateModal").length>0&&$("#visualizzaInformazioniCifrateModal").dialog({resizable:!0,autoOpen:!1,height:"auto",width:"660px",modal:!0,buttons:{Visualizza:visualizzaValoreDecodificato}}),$("#alertInformazioniCifrateModal").length>0&&$("#alertInformazioniCifrateModal").dialog({resizable:!1,autoOpen:!1,height:"auto",width:500,modal:!0,buttons:{Copia:copiaValoreDecodificato}}),$("#downloadInformazioniCifrateModal").length>0&&$("#downloadInformazioniCifrateModal").dialog({resizable:!1,autoOpen:!1,height:"auto",width:500,modal:!0,buttons:{Download:downloadValoreDecodificato}}),$("#erroreInformazioniCifrateModal").length>0&&$("#erroreInformazioniCifrateModal").dialog({resizable:!1,dialogClass:"no-close",autoOpen:!1,height:"auto",width:"auto",modal:!0,buttons:{Chiudi:function(){$(this).dialog("close")}}}),$("#operazioneAjaxModal").length>0&&$("#operazioneAjaxModal").dialog({resizable:!1,dialogClass:"no-close",autoOpen:!1,height:"auto",width:660,modal:!0,buttons:{Chiudi:function(){$(this).dialog("close")}}})});