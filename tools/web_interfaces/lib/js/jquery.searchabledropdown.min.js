!function(e){var t,n="searchable",i=(t=e[n]={},e.fn[n]=function(n){n=e.extend(t.defaults,n);var i=this.length;return this.each(function(e){t.execute.call(this,n,i-e)})},t);i.defaults={maxListSize:100,maxMultiMatch:50,exactMatch:!1,wildcards:!0,ignoreCase:!0,warnNoMatch:"--",latency:200,zIndex:"auto",disableInput:!1},i.execute=function(t,n){var i=null,s=null,d=null;if(isIE()&&browserVersion<7||"SELECT"!=this.nodeName||this.size>1)return this;var o=e(this),c=!1;e.meta&&(t=e.extend({},options,o.data()));var r=e("<div/>");r.prop("id",this.id+"_wrapper");var a=e("<div/>");a.prop("id",this.id+"_overlay");var l=e("<input/>");l.prop("id",this.id+"_input");var p=e("<div/>");p.prop("id",this.id+"_selector");var u={optionLength:function(){return e(p).children(".combobox-item").length},options:function(){return e(p).children(".combobox-item")},selected:function(){var t=e(p).children(".combobox-item-selected");if(t&&t.length>0)return t;var n=this.selectedIndex();return e(p).children(".combobox-item").get(n)},selectedIndex:function(t){return t>-1&&(e(e(p).children(".combobox-item").get(p.get(0).selectedIndex)).removeClass("combobox-item-selected"),p.get(0).selectedIndex=t,e(e(p).children(".combobox-item").get(p.get(0).selectedIndex)).addClass("combobox-item-selected")),p.get(0).selectedIndex},reset:function(){var t=o.get(0).length,n=o.get(0).selectedIndex;p.empty();for(var i=0;i<t;i++){var s=$(e(o.get(0).options[i]),i,i,"");p.append(s),s.get(0).addEventListener("click",function(e){})}this.selectedIndex(n)}};(function e(){o.css("text-decoration","none"),jQuery.style(o[0],"width",jQuery.css(o[0],"width",!1,"border"),!1),jQuery.style(o[0],"height",jQuery.css(o[0],"height",!1,"border"),!1),r.css("position","relative"),r.css("width",o.outerWidth()),r.css("margin-left","0px"),r.css("display","inline-flex"),isIE()&&r.css("z-index",n),a.css({position:"absolute",top:0,left:0,width:o.outerWidth()-1,height:o.outerHeight(),"background-color":"transparent"}),l.prop("type","text"),l.hide(),l.height(o.outerHeight()-1),l.addClass("inputLinkLong"),l.css({position:"absolute",top:0,left:0,margin:"1px",padding:"0px","outline-style":"none","border-style":"solid","border-bottom-style":"none","border-color":"transparent"});var i=[];i.push("border-left-width"),i.push("border-top-width"),i.push("font-size"),i.push("font-stretch"),i.push("font-variant"),i.push("font-weight"),i.push("color"),i.push("text-align"),i.push("text-indent"),i.push("text-shadow"),i.push("text-transform"),i.push("padding-left"),i.push("padding-top");for(var s=0;s<i.length;s++)l.css(i[s],o.css(i[s]));if(isIE()&&browserVersion<8)l.css("padding","0px"),l.css("padding-left","3px"),l.css("border-left-width","2px"),l.css("border-top-width","3px");else if(isChrome())l.height(o.innerHeight()),l.css("text-transform","none"),l.css("padding-left",y(l.css("padding-left"))+3),l.css("padding-top",0);else if(isSafari())l.height(o.innerHeight()),l.css("padding-top",2),l.css("padding-left",3),l.css("text-transform","none");else if(isOpera()){l.height(o.innerHeight());var d=y(o.css("padding-left"));l.css("padding-left",1==d?d+1:d),l.css("padding-top",0)}else isFirefox()?(l.css("padding-top","0px"),l.css("padding-left",y(o.css("padding-left"))+3)):(l.css("padding-left",y(o.css("padding-left"))+3),l.css("padding-top",y(o.css("padding-top"))+1));var c=y(o.css("padding-left"))+y(o.css("padding-right"))+y(o.css("border-left-width"))+y(o.css("border-left-width"))+16;l.width(o.outerWidth()-c);var u=o.css("width"),h=o.outerWidth();o.css("width","auto"),h=h>o.outerWidth()?h:o.outerWidth(),o.css("width",u),p.hide(),p.addClass("combobox-list"),p.css({top:o.outerHeight(),left:0,width:h});var f=/^\d+$/.test(o.css("z-index"))?o.css("z-index"):1;t.zIndex&&/^\d+$/.test(t.zIndex)&&(f=t.zIndex),a.css("z-index",f.toString(10)),l.css("z-index",(f+1).toString(10)),p.css("z-index",(f+2).toString(10)),o.wrap(r),o.after(a),o.after(l),o.after(p)})();var h=!1;function f(e,n,i){if(o.prop("disabled"))return!1;void 0===i&&(c=!c),u.reset(),v(),a.addClass("combobox-overlay-focus"),n&&p.show(),t.disableInput||(l.show(),l.focus(),l.select()),void 0!==e&&e.stopPropagation()}function g(t,n){c=!1,x(),l.hide(),p.hide(),a.removeClass("combobox-overlay-focus"),n&&function t(){if(!(0>u.selectedIndex())){var n=e(u.selected()).children("input[id*='divOpt_origIdx_']").val();o.get(0).selectedIndex!=n&&(o.get(0).selectedIndex=n,o.change())}}(),console.log("check:"+t.target),void 0!==t&&t.stopPropagation()}function x(){null!=i&&clearTimeout(i)}function v(){u.selectedIndex()>-1?l.val(p.find(".combobox-item-selected").text()):l.val(o.find(":selected").text())}function $(t,n,i,s){var d=t.text();s&&s.length>0&&(d=createHighlightItem(t.text(),s));var o=t.val(),c=t.prop("selected"),r=e("<div>"+d+"</div>");r.prop("id","divOpt_"+n),r.addClass("combobox-item");var a=e("<input/>");a.prop("type","hidden"),a.prop("value",o),a.prop("id","divOpt_value_"+n),r.append(a);var l=e("<input/>");l.prop("type","hidden"),l.prop("value",t.text()),l.prop("id","divOpt_origLabel_"+n),r.append(l);var p=e("<input/>");return p.prop("type","hidden"),p.prop("value",i),p.prop("id","divOpt_origIdx_"+n),r.append(p),c&&r.addClass("combobox-item-selected"),r.hover(m,_),r}function b(e){console.log("CLICK"),console.log(e.data),console.log(e.target)}function m(t){var n,i,s=(i=(n=e(this).prop("id")).indexOf("_"),parseInt(n.substr(i+1)));u.selectedIndex(s)}function _(t){e(this).removeClass("combobox-item-selected")}function I(){if(s==d){i=null;return}var n,c,r=0;s=d,p.hide(),p.empty();var a=(n=d,c=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\^|\\$)","g"),n.replace(c,"\\$1"));t.exactMatch&&(a="^"+a),t.wildcards&&(a=(a=a.replace(/\\\*/g,".*")).replace(/\\\?/g,"."));var l=null;t.ignoreCase&&(l="i"),d=RegExp(a,l);for(var h=0;h<o.get(0).length;h++)if(0==d.length||d.test(o.get(0).options[h].text)){var f=$(e(o.get(0).options[h]),r,h,s);p.append(f),f.get(0).addEventListener("click",function(e){}),r++}r>=1&&u.selectedIndex(0),p.show(),i=null}function y(e){try{if(e=parseFloat(e.replace(/[\s]*px/,"")),!isNaN(e))return e}catch(t){}return 0}a.mouseout(function(){h=!1}),p.mouseover(function(){h=!0}),p.mouseout(function(){h=!1}),l.click(function(e){c?g(e,!1):f(e,!0)}),l.blur(function(e){g(e,h)}),o.keydown(function(e){9==e.keyCode||e.shiftKey||e.ctrlKey||e.altKey||l.click()}),o.click(function(e){p.focus()}),p.click(function(e){0>u.selectedIndex()||g(e,!0)}),p.focus(function(e){l.focus()}),p.blur(function(e){h||g(e,!0)}),p.mousemove(function(e){}),a.click(function(e){c?g(e,!0):f(e,!0)}),l.keyup(function(n){if(jQuery.inArray(n.keyCode,[9,13,16,33,34,35,36,38,40])>-1)return!0;d=e.trim(l.val().toLowerCase()),x(),i=setTimeout(I,t.latency)}),l.keydown(function(e){if(9==e.keyCode&&g(e,!0),!e.shiftKey&&!e.ctrlKey&&!e.altKey){switch(e.keyCode){case 13:g(e,!0),o.focus();break;case 27:g(e),o.focus();break;case 33:u.selectedIndex()-8>0?u.selectedIndex(u.selectedIndex()-8):u.selectedIndex(0),v();break;case 34:u.selectedIndex()+8<u.optionLength()-1?u.selectedIndex(u.selectedIndex()+8):u.selectedIndex(u.optionLength()-1),v();break;case 38:u.selectedIndex()>0&&(u.selectedIndex(u.selectedIndex()-1),v());break;case 40:u.selectedIndex()<u.optionLength()-1&&(u.selectedIndex(u.selectedIndex()+1),v());break;default:return!0}return!1}})}}(jQuery);