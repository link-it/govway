openapi: 3.0.3
servers:
  - url: https://{hostname}/govway/{soggetto}/api-rest-status/v1
    description: servizio che permette di verificare lo stato di GovWay
    variables:
      hostname:
        default: localhost
      soggetto:
        description: soggetto con cui è stato dispiegato il software GovWay
        default: EnteGenerico
info:
  x-api-id: https://govway.org/apiRestStatus
  title: GovWay Status
  x-summary: Monitoraggio dello stato di GovWay
  description: Monitoraggio dello stato di GovWay
  termsOfService: https://govway.org/documentazione/api/index.html
  version: "3.3.3"
  contact:
    email: info@link.it
  license:
    name: GPL v3.0
    url: 'https://www.gnu.org/licenses/gpl-3.0.txt'
    
tags:
  - name: Status
    description: >-
      Fornisce un'operazione che consente di verificare lo stato di GovWay

paths:
  
  /status:
    get:
      tags:
        - Status
      summary: >-
        Consente di verificare lo stato di GovWay
      operationId: getStatus
      description: >-
        Ritorna lo stato dell'applicazione in formato problem+json
      responses:
        "200":
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Problem'
          description: |
            Il servizio funziona correttamente.
        default:
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Problem'
          description: |
            Il server ha riscontrato un problema.

components:

  schemas:

    Problem:
      type: object
      required:
      - type
      - title
      - status
      - detail
      properties:
        type:
          type: string
          format: uri
          description: |
            An absolute URI that identifies the problem type.  When dereferenced,
            it SHOULD provide human-readable documentation for the problem type
            (e.g., using HTML).
          default: 'about:blank'
          example: 'https://tools.ietf.org/html/rfc7231#section-6.6.4'
        title:
          type: string
          description: |
            A short, summary of the problem type. Written in english and readable
            for engineers (usually not suited for non technical stakeholders and
            not localized); example: Service Unavailable
        status:
          type: integer
          format: int32
          description: |
            The HTTP status code generated by the origin server for this occurrence
            of the problem.
          minimum: 100
          maximum: 600
          exclusiveMaximum: true
          example: 503
        detail:
          type: string
          description: |
            A human readable explanation specific to this occurrence of the
            problem. You MUST NOT expose internal informations, personal
            data or implementation details through this field.
          example: Request took too long to complete.
        instance:
          type: string
          format: uri
          description: |
            An absolute URI that identifies the specific occurrence of the problem.
            It may or may not yield further information if dereferenced.ù
        govway_id:
          type: string
